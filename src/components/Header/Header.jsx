import cls from './Header.module.css'
import { useState } from 'react';
import { useLocation } from 'react-router-dom';
import { Menu } from '../Menu';
import { useMediaQuery } from 'react-responsive';

export const Header = ({onClick, projectsOpen, onCloseProjects, onOpenMainMenu, isOpenMainMenu, onCloseMainMenu}) =>{

    const isMobile = useMediaQuery({ query: "(max-width: 960px)" });    
    const location = useLocation();

    const isDark = location.pathname == "/contacts" || location.pathname == "/about"



    return(
        <>
            <header 
                className={`${cls.header} ${isDark? cls.darkHeader : isMobile && isOpenMainMenu? cls.deepDark: ""}`}
                onClick={()=>{onCloseProjects(); onCloseMainMenu()}}
                id='header'
                style={
                    {
                        background: location.pathname == "/about" ? "transparent": null,
                        backdropFilter: location.pathname == "/about" ? "none": null
                    }
                }
            > 
                <nav>
                    <div className={cls.left}>
                        <button 
                            className={cls.menuBtn}
                            onClick={(e)=>{e.stopPropagation();onOpenMainMenu()}}
                        >
                            <div className={`${cls.menuBtnIcons} ${isOpenMainMenu? cls.opened: ""}`}>
                                <span></span>
                                <span></span>
                            </div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="7" viewBox="0 0 40 7" fill="none">
                                <path d="M0 6H40V7H0V6Z" fill="#1D1D1B"/>
                                <path d="M0 0H40V1H0V0Z" fill="#1D1D1B"/>
                            </svg>
                            <div></div>
                            <p>Меню</p>
                        </button>
                        <button className={cls.projectsBtn}
                            onClick={(e)=>{e.stopPropagation(); onClick()}}
                        >
                            <p>Проекты</p>
                            {projectsOpen==true? 
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                                <path d="M3.5 10.5L10.5 3.5M10.5 3.5V8.16667M10.5 3.5H5.83333" stroke="#1D1D1B" strokeLinecap="round" strokeLinejoin="round"/>
                            </svg>     
                            : 
                            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                                <path d="M3.5 3.5L10.5 10.5M10.5 10.5V5.83333M10.5 10.5H5.83333" stroke="#1D1D1B" strokeLinecap="round" strokeLinejoin="round"/>
                            </svg> 
                
                            }





                        </button>
                    </div>
                    <a href='/' className={cls.logo}>
                        <svg xmlns="http://www.w3.org/2000/svg" width="29" height="25" viewBox="0 0 29 25" fill="none">
                            <path d="M21.3525 0L28.4697 12.3691L21.3525 24.7393H7.11816L0 12.3691L7.11816 0H21.3525ZM13.8477 12.8018L13.7256 13.0381H13.7197L8.26758 23.5693H8.27441L8.15137 23.8057H20.8164L20.8848 23.6875L26.9453 13.1562L27.1484 12.8018H13.8477ZM1.07324 12.3691L1.1416 12.4873L7.14844 22.9268L7.36523 23.3018L12.9854 12.4434L13.043 12.335L7.36621 1.43555L1.07324 12.3691ZM12.5098 12.335L7.34277 22.3154L7.33887 22.3096L12.5039 12.3359L7.34082 2.42383L7.34473 2.41895L12.5098 12.335ZM8.15332 0.933594L8.27734 1.1709H8.27148L13.7188 11.6309H13.7246L13.8477 11.8672H27.1084L20.8848 1.05273L20.8164 0.933594H8.15332Z" fill="#1D1D1B"/>
                        </svg>
                        <svg xmlns="http://www.w3.org/2000/svg" width="58" height="26" viewBox="0 0 58 26" fill="none">
                            <path fillRule="evenodd" clipRule="evenodd" d="M10.4537 15.0192H2.61333V7.50432H7.82955V6.80222H2.61333V0.691522H10.4537V3.73715e-05H0.000123226V15.7213H10.4537V15.0192Z" fill="#1D1D1B"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M16.047 8.2174V0.691485H18.9776C20.0126 0.691485 20.8966 1.05886 21.6294 1.79402C22.3617 2.52877 22.7283 3.41579 22.7283 4.45424C22.7283 5.48576 22.3617 6.37073 21.6294 7.10915C20.8966 7.84799 20.0126 8.2174 18.9776 8.2174H16.047ZM23.1217 8.30516C23.7926 7.90309 24.328 7.36549 24.7292 6.69237C25.1299 6.01967 25.3309 5.27349 25.3309 4.45424C25.3309 3.6354 25.1299 2.88922 24.7292 2.2161C24.328 1.5434 23.7926 1.0058 23.1217 0.603724C22.4513 0.201242 21.7075 0 20.891 0H13.4338V15.7213H16.047V8.90848H17.6545L22.5969 15.7213H25.8338L20.891 8.90848C21.7075 8.90848 22.4513 8.70724 23.1217 8.30516Z" fill="#1D1D1B"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M39.1461 10.5651C38.8759 11.4284 38.4768 12.1926 37.9487 12.8579C37.4198 13.5237 36.7656 14.0503 35.9856 14.4381C35.2057 14.8258 34.3058 15.0193 33.285 15.0193H30.6494V0.691235H33.285C34.5971 0.691235 35.7196 1.01495 36.6529 1.66235C37.5858 2.30934 38.3022 3.17471 38.8014 4.25684C39.3006 5.33937 39.5505 6.53866 39.5505 7.8555C39.5505 8.79884 39.4154 9.70218 39.1461 10.5651ZM41.1034 3.91109C40.3959 2.72283 39.4504 1.77377 38.2656 1.06433C37.0809 0.354882 35.7668 0.000161943 34.3237 0.000161943H28.0362V15.7214H34.3237C35.7668 15.7214 37.0809 15.3667 38.2656 14.6573C39.4504 13.9478 40.3959 12.9992 41.1034 11.8105C41.8101 10.6218 42.1641 9.30745 42.1641 7.86611C42.1641 6.41824 41.8101 5.10016 41.1034 3.91109Z" fill="#1D1D1B"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M48.2328 3.10495L51.2508 9.61077H45.2148L48.2328 3.10495ZM44.8869 10.3019H51.5792L54.0939 15.7215H56.9805L49.6763 0.000211772H48.911L41.6065 15.7215H42.3718L44.8869 10.3019Z" fill="#1D1D1B"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M4.21374 22.5504H1.05375V19.5212H0V25.8584H1.05375V22.8292H4.21374V25.8584H5.26709V19.5212H4.21374V22.5504Z" fill="#1D1D1B"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M14.4842 23.6937C14.4004 24.0284 14.2702 24.3415 14.094 24.6334C13.9472 24.8754 13.7657 25.0889 13.5497 25.2746C13.3336 25.4604 13.0879 25.5918 12.8112 25.6681C12.6761 25.7036 12.5382 25.7212 12.397 25.7212C12.2591 25.7212 12.1208 25.7036 11.9829 25.6681C11.7066 25.5918 11.4605 25.4604 11.2444 25.2746C11.0284 25.0889 10.8469 24.8754 10.7001 24.6334C10.5239 24.3415 10.3941 24.0284 10.3099 23.6937C10.2261 23.359 10.1846 23.0234 10.1846 22.6875C10.1846 22.3515 10.2261 22.0164 10.3099 21.6817C10.3941 21.347 10.5239 21.0335 10.7001 20.7416C10.8469 20.5 11.0284 20.2861 11.2444 20.1007C11.4605 19.9146 11.7066 19.7836 11.9829 19.7068C12.1208 19.6717 12.2591 19.6538 12.397 19.6538C12.5382 19.6538 12.6761 19.6717 12.8112 19.7068C13.0879 19.7836 13.3336 19.9146 13.5497 20.1007C13.7657 20.2861 13.9472 20.5 14.094 20.7416C14.2702 21.0335 14.4004 21.347 14.4842 21.6817C14.568 22.0164 14.6095 22.3515 14.6095 22.6875C14.6095 23.0234 14.568 23.359 14.4842 23.6937ZM15.0635 20.7306C14.8609 20.4551 14.6221 20.2163 14.3475 20.0142C14.0724 19.8126 13.7702 19.6554 13.4394 19.5436C13.109 19.4313 12.7616 19.3754 12.397 19.3754C12.0329 19.3754 11.6851 19.4313 11.3547 19.5436C11.0239 19.6554 10.7212 19.8126 10.4466 20.0142C10.172 20.2163 9.93397 20.4551 9.73258 20.7306C9.53119 21.0065 9.37496 21.3102 9.26308 21.6417C9.1516 21.9736 9.09586 22.3221 9.09586 22.6875C9.09586 23.0532 9.1516 23.4018 9.26308 23.7333C9.37496 24.0651 9.53119 24.3688 9.73258 24.6448C9.93397 24.9203 10.172 25.1599 10.4466 25.3632C10.7212 25.5665 11.0239 25.7236 11.3547 25.8339C11.6851 25.9449 12.0329 26 12.397 26C12.7616 26 13.109 25.9449 13.4394 25.8339C13.7702 25.7236 14.0724 25.5665 14.3475 25.3632C14.6221 25.1599 14.8609 24.9203 15.0635 24.6448C15.2665 24.3688 15.4236 24.0651 15.5355 23.7333C15.647 23.4018 15.7027 23.0532 15.7027 22.6875C15.7027 22.3221 15.647 21.9736 15.5355 21.6417C15.4236 21.3102 15.2665 21.0065 15.0635 20.7306Z" fill="#1D1D1B"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M20.5849 19.5213H19.5316V25.8582H23.7453V25.5753H20.5849V19.5213Z" fill="#1D1D1B"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M32.0519 23.78C31.9432 24.1278 31.7821 24.436 31.5693 24.7041C31.3561 24.9723 31.0925 25.1846 30.7784 25.3409C30.4635 25.4973 30.1006 25.5752 29.6893 25.5752H28.627V19.7997H29.6893C30.2182 19.7997 30.6706 19.9303 31.047 20.1911C31.4229 20.452 31.7117 20.801 31.9131 21.2369C32.1141 21.6733 32.215 22.157 32.215 22.6877C32.215 23.0681 32.1605 23.4322 32.0519 23.78ZM31.6971 19.9499C31.2194 19.6641 30.6897 19.5213 30.1079 19.5213H27.5737V25.8581H30.1079C30.6897 25.8581 31.2194 25.7156 31.6971 25.4295C32.1747 25.1438 32.5559 24.7609 32.8407 24.2817C33.1259 23.8028 33.2683 23.273 33.2683 22.6917C33.2683 22.108 33.1259 21.5769 32.8407 21.0977C32.5559 20.6185 32.1747 20.236 31.6971 19.9499Z" fill="#1D1D1B"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M37.0968 25.8583H38.1502V19.5211H37.0968V25.8583Z" fill="#1D1D1B"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M47.1446 24.3901L42.2876 19.5211H41.9788V25.8584H42.2612V20.9849L47.1137 25.8584H47.4221V19.5211H47.1446V24.3901Z" fill="#1D1D1B"/>
                            <path fillRule="evenodd" clipRule="evenodd" d="M54.3274 22.8246H55.9626V25.4297H55.9585C55.7347 25.5767 55.4911 25.6681 55.2266 25.7036C55.1326 25.7155 55.037 25.7212 54.9401 25.7212H54.8828C54.6505 25.7065 54.4259 25.6579 54.2086 25.5755C53.8587 25.4371 53.5499 25.2346 53.2826 24.9693C52.9743 24.666 52.7408 24.3166 52.5821 23.9215C52.4234 23.5263 52.344 23.1153 52.344 22.6879C52.344 22.3842 52.3827 22.0854 52.4608 21.7919C52.5385 21.4988 52.6586 21.2208 52.8201 20.9588C52.9637 20.7196 53.1386 20.5069 53.3445 20.3195C53.5499 20.1322 53.7823 19.9811 54.041 19.866C54.3494 19.7277 54.6713 19.6583 55.0061 19.6583C55.3617 19.6583 55.6973 19.7325 56.0134 19.8815C56.3292 20.0305 56.6074 20.2363 56.8487 20.4983L57.0513 20.295C56.7222 19.9942 56.354 19.766 55.9471 19.6097C55.5403 19.4534 55.1163 19.3754 54.6753 19.3754C54.1232 19.3754 53.5996 19.4987 53.1045 19.7448C52.6089 19.9905 52.1956 20.3424 51.8636 20.7992C51.4551 21.3772 51.2508 22.0066 51.2508 22.6879C51.2508 23.3688 51.4551 23.9982 51.8636 24.5758C52.1956 25.033 52.6089 25.3844 53.1045 25.6306C53.5996 25.8767 54.1232 26 54.6753 26C55.1163 26 55.5411 25.9208 55.9496 25.7632C56.358 25.6057 56.7254 25.3763 57.0513 25.0758V22.5463H54.3274V22.8246Z" fill="#1D1D1B"/>
                        </svg>
                    </a>
                    <div className={cls.right}>
                        <a href="/contacts">
                            Контакты
                        </a>
                        <button className={cls.langBtn}>
                            <p>На русском</p>
                            <svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15" fill="none">
                                <path d="M9.83333 7.16667L10.3332 7.17708C10.3334 7.17014 10.3334 7.16319 10.3332 7.15625L9.83333 7.16667ZM4.5 7.16667L4.00011 7.15625C3.99996 7.16319 3.99996 7.17014 4.00011 7.17708L4.5 7.16667ZM13.8333 7.16667H13.3333C13.3333 10.5724 10.5724 13.3333 7.16667 13.3333V13.8333V14.3333C11.1247 14.3333 14.3333 11.1247 14.3333 7.16667H13.8333ZM7.16667 13.8333V13.3333C3.76091 13.3333 1 10.5724 1 7.16667H0.5H0C0 11.1247 3.20863 14.3333 7.16667 14.3333V13.8333ZM0.5 7.16667H1C1 3.76091 3.76091 1 7.16667 1V0.5V0C3.20863 0 0 3.20863 0 7.16667H0.5ZM7.16667 0.5V1C10.5724 1 13.3333 3.76091 13.3333 7.16667H13.8333H14.3333C14.3333 3.20863 11.1247 0 7.16667 0V0.5ZM0.5 7.16667V7.66667H13.8333V7.16667V6.66667H0.5V7.16667ZM7.16667 0.5L6.79749 0.837212C8.38327 2.57329 9.28447 4.82628 9.33344 7.17708L9.83333 7.16667L10.3332 7.15625C10.2792 4.5631 9.2851 2.07785 7.53584 0.162788L7.16667 0.5ZM9.83333 7.16667L9.33344 7.15625C9.28447 9.50706 8.38327 11.76 6.79749 13.4961L7.16667 13.8333L7.53584 14.1705C9.2851 12.2555 10.2792 9.77023 10.3332 7.17708L9.83333 7.16667ZM7.16667 13.8333L7.53584 13.4961C5.95006 11.76 5.04887 9.50706 4.99989 7.15625L4.5 7.16667L4.00011 7.17708C4.05413 9.77023 5.04823 12.2555 6.79749 14.1705L7.16667 13.8333ZM4.5 7.16667L4.99989 7.17708C5.04887 4.82628 5.95006 2.57329 7.53584 0.837212L7.16667 0.5L6.79749 0.162788C5.04823 2.07785 4.05413 4.5631 4.00011 7.15625L4.5 7.16667Z" fill="#1D1D1B"/>
                            </svg>

                        </button>
                    </div>
                    <div className={cls.mobileContacts}>
                        <a href="tel:+77005161616">
                            +7 700 516 16 16
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M9.99998 1.33333V2.26667C9.99998 2.64004 9.99998 2.82672 9.92732 2.96933C9.8634 3.09477 9.76142 3.19676 9.63597 3.26067C9.49337 3.33333 9.30668 3.33333 8.93331 3.33333H7.06665C6.69328 3.33333 6.50659 3.33333 6.36399 3.26067C6.23854 3.19676 6.13656 3.09477 6.07264 2.96933C5.99998 2.82672 5.99998 2.64004 5.99998 2.26667V1.33333M5.46665 14.6667H10.5333C11.2801 14.6667 11.6534 14.6667 11.9386 14.5213C12.1895 14.3935 12.3935 14.1895 12.5213 13.9387C12.6666 13.6534 12.6666 13.2801 12.6666 12.5333V3.46667C12.6666 2.71993 12.6666 2.34656 12.5213 2.06135C12.3935 1.81046 12.1895 1.60649 11.9386 1.47866C11.6534 1.33333 11.28 1.33333 10.5333 1.33333H5.46665C4.71991 1.33333 4.34654 1.33333 4.06133 1.47866C3.81044 1.60649 3.60647 1.81046 3.47864 2.06135C3.33331 2.34656 3.33331 2.71993 3.33331 3.46667V12.5333C3.33331 13.2801 3.33331 13.6534 3.47864 13.9387C3.60647 14.1895 3.81044 14.3935 4.06133 14.5213C4.34654 14.6667 4.71991 14.6667 5.46665 14.6667Z" stroke="#1D1D1B" strokeLinecap="round" strokeLinejoin="round"/>
                            </svg>
                        </a>
                    </div>
                </nav>
            </header>
            {projectsOpen ? <Menu type="projectsMenu"/> : null}
            {isOpenMainMenu ? <Menu type="mainMenu"/> : null}
        </>
    )
}